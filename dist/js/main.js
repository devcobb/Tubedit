/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/element-remove/index.js":
/*!**********************************************!*\
  !*** ./node_modules/element-remove/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function (arr) {\n  arr.forEach(function (item) {\n    if (item.hasOwnProperty('remove')) {\n      return;\n    }\n    Object.defineProperty(item, 'remove', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function remove() {\n        this.parentNode && this.parentNode.removeChild(this);\n      }\n    });\n  });\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype].filter(Boolean));\n\n\n//# sourceURL=webpack:///./node_modules/element-remove/index.js?");

/***/ }),

/***/ "./src/js/edit.js":
/*!************************!*\
  !*** ./src/js/edit.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var counters = {\n  imgCounter: 1,\n  muteCounter: 1,\n  soundCounter: 1,\n  textCounter: 1,\n  brushCounter: 1,\n  switchCounter: 1,\n  videoCounter: 1,\n  deleteCounter: 1,\n  linkCounter: 1,\n  cutCounter: 1\n};\nvar toolChoosed = false;\nvar watching = false;\nvar playBox;\nvar editedVideo = [{\n  id: getVideoCounter(),\n  url: sessionStorage.getItem('url'),\n  title: \"\",\n  img: \"https://img.youtube.com/vi/\".concat(sessionStorage.getItem('url'), \"/0.jpg\")\n}];\nvar videos = [];\nvar changeSize = null;\nvar imgRotate = 0;\nvar vidRotate = 0;\nvar rotateInt = null;\nvar actuallyEdited = {};\nvar videoOverlayer = {\n  rotate: 0\n}; //https://tadmag.blob.core.windows.net/tad-mag/storage/image/royalties/MAGICAL.png-2018-11-23%2010:01:31.png\n\n(function init() {\n  if (document.querySelector(\"#toolsBox\") !== null) {\n    loadScript();\n    unpackVideos();\n    createMarkerContainer();\n\n    if (window.screen.width < 768) {\n      document.querySelector(\"#link\").style.opacity = \"0.1\";\n    }\n\n    document.querySelector(\"#howTo\").addEventListener(\"click\", howTo);\n  }\n})();\n\nfunction getVideoCounter() {\n  if (localStorage.getItem('videoCounter') === null) {\n    var counter = 0;\n    localStorage.setItem('videoCounter', counter);\n    return counter;\n  } else {\n    localStorage.setItem(\"videoCounter\", parseInt(localStorage.getItem('videoCounter')) + 1);\n    return localStorage.getItem('videoCounter');\n  }\n}\n\nfunction createMarkerContainer() {\n  if (!mobilecheck()) {\n    var markerContainer = document.createElement(\"div\");\n    markerContainer.id = \"markerContainer\";\n    document.querySelector(\"#container\").appendChild(markerContainer);\n\n    if (window.screen.width >= 1600) {\n      document.querySelector(\"#markerContainer\").style.width = \"81%\";\n    } else if (window.screen.width >= 768) {\n      document.querySelector(\"#markerContainer\").style.width = \"71%\";\n    }\n  }\n}\n\nfunction unpackVideos() {\n  if (localStorage.getItem('videos') === null) {\n    videos = [];\n  } else {\n    videos = JSON.parse(localStorage.getItem('videos'));\n  }\n}\n\nfunction createYoutubeVideo() {\n  playBox = new YT.Player('player', {\n    videoId: sessionStorage.getItem('url'),\n    events: {\n      onReady: createTools\n    },\n    playerVars: {\n      rel: 0,\n      showinfo: 0,\n      ecver: 2\n    }\n  });\n}\n\nfunction createTools() {\n  var image = document.querySelector('#image');\n  var sound = document.querySelector('#sound');\n  var video = document.querySelector('#video');\n  var draw = document.querySelector('#brush');\n  var link = document.querySelector('#link');\n  var mute = document.querySelector('#mute');\n  var text = document.querySelector('#text');\n  var del = document.querySelector('#delete');\n  var watch = document.querySelector('#watchVideo');\n  var save = document.querySelector('#saveVideo');\n  image !== null ? image.addEventListener('click', function () {\n    return createPopup('img');\n  }) : null;\n  sound !== null ? sound.addEventListener('click', function () {\n    return createPopup('sound');\n  }) : null;\n  video !== null ? video.addEventListener('click', function () {\n    return createPopup('video');\n  }) : null;\n  draw !== null ? draw.addEventListener('click', beginDraw) : null;\n  link !== null ? link.addEventListener('click', createLink) : null;\n  mute !== null ? mute.addEventListener('click', muteVideo) : null;\n  text !== null ? text.addEventListener('click', createText) : null;\n  del !== null ? del.addEventListener('click', deletePart) : null;\n  watch !== null ? watch.addEventListener('click', function () {\n    watching = true;\n    setTimeout(function () {\n      return watchVideo(playBox, editedVideo);\n    }, 500);\n  }) : null;\n  save !== null ? save.addEventListener('click', saveVideo) : null;\n  toolChoosed ? playerReady() : null;\n}\n\nfunction calculatePosition() {\n  return document.querySelector('#markerContainer').offsetWidth * playBox.getCurrentTime() / playBox.getDuration();\n}\n\nfunction markArea(icon, id) {\n  if (!mobilecheck()) {\n    var point = calculatePosition();\n    var marker = document.createElement('div');\n    var img = new Image();\n    var check = true;\n    marker.className = 'marker';\n    marker.dataset.id = id;\n    marker.style.left = calculatePercentage(point, document.querySelector('#markerContainer').offsetWidth);\n    marker.appendChild(img);\n    img.src = \"../img/\".concat(icon, \".png\");\n    document.querySelectorAll(\".marker\").forEach(function (mark) {\n      if (parseInt(mark.dataset.id) === id && mark.children[0].src.includes(icon)) {\n        //Second marker\n        if (parseInt(mark.style.left) > parseInt(marker.style.left)) {\n          check = false;\n        }\n      }\n    });\n    check ? document.querySelector(\"#markerContainer\").appendChild(marker) : null;\n  }\n}\n\nfunction calculatePercentage(point, elem) {\n  var percentage = 100 * point / parseInt(elem);\n  return \"\".concat(percentage, \"%\");\n}\n\nfunction randomColor() {\n  var color = \"#\";\n  var avaiableSigns = \"0123456789abcdef\";\n\n  for (var i = 0; i < 6; i++) {\n    color += avaiableSigns[Math.floor(Math.random() * 16)];\n  }\n\n  return color;\n}\n\nfunction saveToStorageVideos() {\n  localStorage.setItem('videos', JSON.stringify(videos));\n}\n\nfunction saveVideo() {\n  var savePopup = document.createElement('div');\n  var overlayer = document.createElement('div');\n  overlayer.id = 'overlayer';\n  savePopup.id = 'savePopup';\n  videos.push(editedVideo);\n  saveToStorageVideos();\n  savePopup.innerHTML = \"<h1>Your video was saved</h1>\\n         <input type=\\\"text\\\" placeholder=\\\"Type video title\\\"/>\\n         <a href=\\\"../html/watch.html\\\">\\n            <div class=\\\"tubeEditBtn\\\">Watch video</div>\\n         </a>\";\n  document.body.append(savePopup, overlayer);\n  giveVideoTitile();\n}\n\nfunction giveVideoTitile() {\n  document.querySelector(\"#savePopup input\").addEventListener(\"change\", function (e) {\n    videos[videos.length - 1][0].title += e.target.value;\n    localStorage.setItem(\"videos\", JSON.stringify(videos));\n  });\n}\n\nfunction simpleToolsPrep(obj, arr) {\n  markArea(arr[arr.length - 1], arr[0]);\n  var tool = document.createElement('div');\n  tool.id = arr[1];\n  tool.className = 'simpleTool';\n  tool.innerHTML = arr[2];\n  document.querySelector('#container').appendChild(tool);\n  document.querySelector('#saveEdits').addEventListener('click', function () {\n    return saveSimpleToolEdits(arr[0], arr[3], tool, obj);\n  });\n}\n\nfunction saveSimpleToolEdits(id, img, tool, obj) {\n  document.querySelector('#player').style.position = 'static';\n  document.querySelector('#player').style.width = \"100%\";\n  document.querySelector('#player').style.height = \"100%\";\n\n  if (window.screen.width >= 1600) {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"81%\" : null;\n  } else {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"71%\" : null;\n  }\n\n  obj.endPoint = playBox.getCurrentTime();\n  markArea(img, id);\n  connectMarks(img, id);\n  editedVideo.push(obj);\n  tool.remove();\n  playBox.pauseVideo();\n  document.querySelector(\"#goBack\").remove();\n}\n\nfunction connectMarks(img, id) {\n  var markers = document.querySelectorAll('.marker');\n  var markersToConnect = [];\n  var markColor = randomColor();\n  markers.forEach(function (marker) {\n    if (marker.children[0].src.includes(img) && parseInt(marker.dataset.id) === id) {\n      markersToConnect.push(marker);\n    }\n  });\n  markersToConnect.forEach(function (mark) {\n    return mark.style.border = \"2px solid \".concat(markColor);\n  });\n  return createConnector(markersToConnect);\n}\n\nfunction createConnector(markers) {\n  if (markers.length === 2) {\n    var connector = document.createElement('div');\n    var startPoint = parseInt(markers[0].style.left);\n    var endPoint = parseInt(markers[1].style.left) - startPoint;\n\n    for (var _key in counters) {\n      if (_key.toLowerCase().includes(markers[0].children[0].src.split(\"/\")[2].slice(4).toLowerCase())) {\n        counters[_key]++;\n      }\n    }\n\n    connector.className = 'connector';\n    connector.style.backgroundColor = markers[0].style.border.slice(9);\n    connector.style.width = \"\".concat(parseInt(markers[1].style.left) - parseInt(markers[0].style.left), \"%\");\n    connector.style.left = \"\".concat(startPoint + 1, \"%\");\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").appendChild(connector) : null;\n  } else {\n    document.querySelector(\".marker\") !== null ? document.querySelectorAll(\".marker\")[document.querySelectorAll(\".marker\").length - 1].remove() : null;\n  }\n}\n\nfunction createLink() {\n  if (window.screen.width < 768) {\n    return;\n  }\n\n  var linkPopup = document.createElement('div');\n  var link = {\n    type: 'link',\n    id: counters.linkCounter,\n    startPoint: null,\n    endPoint: null\n  };\n  var available = false;\n  linkPopup.id = 'linkPopup';\n  actuallyEdited = link;\n  editedVideo.forEach(function (edit) {\n    if (edit.type === 'img' || edit.type === 'video' || edit.type === 'text') {\n      available = true;\n    }\n  });\n\n  if (available) {\n    linkPopup.innerHTML = \"<h1>Adding link</h1>\\n             <p>Click on one of your previously created icons of drawing, image, text or video to add href to it</p>\";\n    document.querySelectorAll('.marker').forEach(function (marker) {\n      return marker.addEventListener('click', function (e) {\n        return addLinkToElement(link, e);\n      });\n    });\n  } else {\n    linkPopup.innerHTML = \"<h1>Adding link</h1>\\n             <p>You don't have any created videoes, images or text to make a link of it</p>\";\n  }\n\n  document.querySelector('#container').append(linkPopup);\n  document.querySelector('#player').style.width = '81.5vw';\n  stylingPlayer();\n  addGoBackButton(removeLink);\n}\n\nfunction addLinkToElement(link, e) {\n  var target;\n  var firstMarker;\n  var lastMarker;\n\n  if (e.target.nodeName === 'IMG') {\n    target = e.target.parentNode;\n  } else {\n    target = e.target;\n  }\n\n  firstMarker = document.querySelectorAll(\".marker[data-id=\\\"\".concat(target.dataset.id, \"\\\"]\"))[0];\n  lastMarker = document.querySelectorAll(\".marker[data-id=\\\"\".concat(target.dataset.id, \"\\\"]\"))[1];\n  markArea('colorLink', counters.linkCounter);\n  document.querySelectorAll(\".marker\")[document.querySelectorAll(\".marker\").length - 1].style.top = \"-60%\";\n  document.querySelectorAll(\".marker\")[document.querySelectorAll(\".marker\").length - 1].style.border = \"2px solid rgb\".concat(target.style.border.split(\"rgb\")[1]);\n  editedVideo.forEach(function (edit) {\n    if (edit.id === parseInt(target.dataset.id)) {\n      link.startPoint = edit.startPoint;\n      link.endPoint = edit.endPoint;\n      addLinkPoint(link);\n    }\n  });\n}\n\nfunction addLinkPoint(edit) {\n  document.querySelector('#linkPopup').innerHTML = \"<h1>Adding link</h1>\\n         Move video to the point where the marker should be linked\\n         <div id=\\\"saveEdits\\\">Save edits</div>\";\n  document.querySelector('#saveEdits').addEventListener('click', function () {\n    edit.linkTo = playBox.getCurrentTime();\n    removeLink();\n\n    if (window.screen.width >= 1600) {\n      document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"83%\" : null;\n    } else {\n      document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"75%\" : null;\n    }\n\n    document.querySelector('#player').style.position = 'static';\n    editedVideo.push(edit);\n    goBackFnc();\n  });\n}\n\nfunction removeLink() {\n  document.querySelector('#player').style.position = \"static\";\n  document.querySelector('#player').style.width = '100%';\n  document.querySelector('#player').style.height = '100%';\n  document.querySelector('#linkPopup').remove();\n}\n\nfunction deletePart() {\n  var deletePart = {\n    type: 'delete',\n    id: counters.deleteCounter,\n    startPoint: playBox.getCurrentTime(),\n    endPoint: null\n  };\n  var deleteBox = document.createElement('div');\n  stylingPlayer();\n  addGoBackButton(removeDeleteBox);\n  simpleToolsPrep(deletePart, [counters.deleteCounter, 'deleteBox', '<p>Move progress bar to place where the deleted part should end and click button below</p><div id=\"saveEdits\">Save edits</div>', 'colorCut']);\n}\n\nfunction removeDeleteBox() {\n  document.querySelector('#deleteBox').remove();\n}\n\nfunction muteVideo() {\n  var mute = {\n    type: 'mute',\n    id: counters.muteCounter,\n    startPoint: playBox.getCurrentTime(),\n    endPoint: null\n  };\n  var muteBox = document.createElement('div');\n  simpleToolsPrep(mute, [counters.muteCounter, 'muteBox', '<p>Move progress bar to place where the muted part should end and click button below</p><div id=\"saveEdits\">Save edits</div>', 'colorMute']);\n  addGoBackButton(removeMuteBox);\n  stylingPlayer();\n}\n\nfunction removeMuteBox() {\n  document.querySelector('#player').style.width = '100%';\n  document.querySelector('#muteBox') !== null ? document.querySelector('#muteBox').remove() : null;\n}\n\nfunction beginDraw() {\n  var drawing = {\n    type: 'drawing',\n    id: counters.brushCounter,\n    src: null,\n    startPoint: playBox.getCurrentTime(),\n    endPoint: null\n  };\n  var brushBox = document.createElement('div');\n  brushBox.id = 'brushBox';\n  actuallyEdited = drawing;\n  editedVideo.push(drawing);\n  counters.brushCounter++;\n  markArea('brushColor', drawing.id);\n  addGoBackButton(removeBrushBox);\n  document.body.append(brushBox, document.createElement('canvas'));\n  document.querySelector('canvas').id = 'canvas';\n  playBox.pauseVideo();\n  stylingPlayer();\n  createBrushBox(drawing.id);\n}\n\nfunction removeBrushBox() {\n  document.querySelector('#brushBox').remove();\n  document.querySelector('canvas').remove();\n}\n\nfunction createBrushBox(idx) {\n  brushBox.innerHTML = \"<div id=\\\"toolBox\\\">\\n            <div id=\\\"brushTool\\\" class=\\\"drawingTool\\\">\\n                <img src='../img/brush.png'>\\n            </div>\\n            <div id=\\\"eraserTool\\\" class=\\\"drawingTool\\\">\\n                <img src='../img/eraser.png'>\\n            </div>\\n        </div>\\n        <div id=\\\"brushSizes\\\">\\n            <div id=\\\"small\\\" class=\\\"size\\\"></div>\\n            <div id=\\\"medium\\\" class=\\\"size\\\"></div>\\n            <div id=\\\"big\\\" class=\\\"size\\\"></div>\\n        </div>\\n        <input type=\\\"text\\\" placeholder=\\\"Custom brush size\\\">\\n        <div id=\\\"colorPicker\\\">\\n            <input type=\\\"color\\\" value=\\\"#000002\\\">\\n        </div>\\n        <div id=\\\"saveEdits\\\">\\n            Save\\n        </div>\";\n  startDrawing();\n  drawingTools(idx);\n}\n\nfunction startDrawing() {\n  var C = document.querySelector('canvas');\n  var CTX = C.getContext('2d');\n  var isDrawing = false;\n  var lastX = 0;\n  var lastY = 0;\n  C.width = window.innerWidth;\n  C.height = window.innerHeight;\n  CTX.lineJoin = \"round\";\n  CTX.lineCap = \"round\";\n  CTX.lineWidth = '5';\n\n  function drawing(e) {\n    if (!isDrawing) return;\n    CTX.beginPath();\n    CTX.moveTo(lastX, lastY);\n    CTX.lineTo(e.offsetX, e.offsetY);\n    CTX.stroke();\n    var _ref = [e.offsetX, e.offsetY];\n    lastX = _ref[0];\n    lastY = _ref[1];\n  }\n\n  C.addEventListener('mousedown', function (e) {\n    isDrawing = true;\n    var _ref2 = [e.offsetX, e.offsetY];\n    lastX = _ref2[0];\n    lastY = _ref2[1];\n  });\n  C.addEventListener('mousemove', drawing);\n  C.addEventListener('mouseup', function () {\n    return isDrawing = false;\n  });\n  C.addEventListener('mouseout', function () {\n    return isDrawing = false;\n  });\n}\n\nfunction brush(target, CTX) {\n  document.querySelectorAll('.drawingTool').forEach(function (tool) {\n    return tool.style.backgroundColor = 'transparent';\n  });\n  target.nodeName === 'IMG' ? target.parentNode.style.backgroundColor = '#1d1d1d' : target.style.backgroundColor = '#1d1d1d';\n  CTX.globalCompositeOperation = \"source-over\";\n}\n\nfunction eraser(target, CTX) {\n  document.querySelectorAll('.drawingTool').forEach(function (tool) {\n    return tool.style.backgroundColor = 'transparent';\n  });\n  target.nodeName === 'IMG' ? target.parentNode.style.backgroundColor = '#1d1d1d' : target.style.backgroundColor = '#1d1d1d';\n  CTX.globalCompositeOperation = \"destination-out\";\n}\n\nfunction changeBrushSize(target, size, CTX) {\n  clearSizeDots();\n  target.style.border = '5px solid #1d1d1d';\n  document.querySelector('#brushBox input').value = '';\n  CTX.lineWidth = size;\n}\n\nfunction customBrushSize(CTX) {\n  CTX.lineWidth = document.querySelector('#brushBox input').value;\n  clearSizeDots();\n}\n\nfunction clearSizeDots() {\n  document.querySelectorAll('.size').forEach(function (size) {\n    return size.style.border = '5px solid #fff';\n  });\n}\n\nfunction saveDrawingEdits(idx) {\n  var drawing;\n  editedVideo.forEach(function (edit) {\n    if (edit.type === 'drawing' && edit.id === idx) {\n      edit.src = document.querySelector('canvas').toDataURL();\n    }\n  });\n  document.querySelector('canvas').remove();\n  document.querySelector('#brushBox').className = 'simpleTool';\n  document.querySelector('#brushBox').style.justifyContent = 'center';\n  document.querySelector('#brushBox').innerHTML = \"<p>Now move video to the point where your drawing should disapear</p>\\n         <div id=\\\"saveEdits\\\">Save</div>\";\n  document.querySelector('#saveEdits').addEventListener('click', saveDrawing);\n}\n\nfunction drawingTools(idx) {\n  var C = document.querySelector('canvas');\n  var CTX = C.getContext('2d');\n  document.querySelector('#colorPicker input').addEventListener('change', function () {\n    return CTX.strokeStyle = document.querySelector('#colorPicker input').value;\n  });\n  document.querySelector('#brushTool').addEventListener('click', function (e) {\n    return brush(e.target, CTX);\n  });\n  document.querySelector('#eraserTool').addEventListener('click', function (e) {\n    return eraser(e.target, CTX);\n  });\n  document.querySelector('#small').addEventListener('click', function (e) {\n    return changeBrushSize(e.target, '5', CTX);\n  });\n  document.querySelector('#medium').addEventListener('click', function (e) {\n    return changeBrushSize(e.target, '10', CTX);\n  });\n  document.querySelector('#big').addEventListener('click', function (e) {\n    return changeBrushSize(e.target, '20', CTX);\n  });\n  document.querySelector('#brushBox input').addEventListener('change', function () {\n    return customBrushSize(CTX);\n  });\n  document.querySelector('#saveEdits').addEventListener('click', function () {\n    return saveDrawingEdits(idx);\n  });\n}\n\nfunction saveDrawing() {\n  editedVideo.forEach(function (edit) {\n    if (edit.type === actuallyEdited.type && edit.id === actuallyEdited.id) {\n      markArea('brushColor', edit.id);\n      connectMarks('brushColor', edit.id);\n      edit.endPoint = playBox.getCurrentTime();\n\n      if (window.screen.width >= 1600) {\n        document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"83%\" : null;\n      } else {\n        document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"75%\" : null;\n      }\n\n      document.querySelector('#player').style.position = 'static';\n      document.querySelector('#player').style.width = '100%';\n      document.querySelector('#brushBox').remove();\n      document.querySelector('#goBack').remove();\n    }\n  });\n}\n\nfunction createImagePopup() {\n  var img = {\n    type: 'img',\n    id: counters.imgCounter,\n    src: null,\n    draggable: false,\n    styling: {\n      width: 0,\n      height: 0,\n      opacity: 0,\n      rotate: 0,\n      top: 0,\n      left: 0\n    },\n    startPoint: playBox.getCurrentTime(),\n    endPoint: null,\n    header: 'Adding image',\n    instructions: \"Paste URL to your image\",\n    addidions: \"\"\n  };\n  return img;\n}\n\nfunction createSoundPopup() {\n  var sound = {\n    type: 'sound',\n    id: counters.soundCounter,\n    src: null,\n    startPoint: playBox.getCurrentTime(),\n    endPoint: null,\n    header: 'Adding sound',\n    instructions: \"Paste URL to your sound\",\n    addidions: \"\"\n  };\n  return sound;\n}\n\nfunction createVideoPopup() {\n  var vid = {\n    type: 'video',\n    id: counters.videoCounter,\n    src: null,\n    styling: {\n      width: 0,\n      height: 0,\n      rotate: 0,\n      top: 500,\n      left: 500\n    },\n    startPoint: playBox.getCurrentTime(),\n    endPoint: null,\n    header: 'Adding video',\n    instructions: \"Paste URL to your video\",\n    addidions: \"\"\n  };\n  return vid;\n}\n\nfunction addMedia(type, media) {\n  if (document.querySelector('#addUrl input').value !== undefined) {\n    media.src = document.querySelector('#addUrl input').value;\n    editedVideo.push(media);\n\n    if (type === 'img') {\n      counters.imgCounter++;\n      stylingImg(media.id);\n    } else if (type === 'sound') {\n      counters.soundCounter++;\n      addingSound(media.id);\n    } else if (type === 'video') {\n      counters.videoCounter++;\n      addingVideo(media.id);\n    }\n\n    closePopup();\n  }\n}\n\nfunction createPopup(type) {\n  var popup = document.createElement('div');\n  var overlayer = document.createElement('div');\n  var media;\n  overlayer.id = 'overlayer';\n  popup.id = 'popup';\n\n  if (document.querySelector(\"#overlayer\") === null && document.querySelector(\"#popup\") === null) {\n    document.body.append(overlayer, popup);\n  }\n\n  document.body.style.overflowY = 'hidden';\n\n  if (type === 'img') {\n    media = createImagePopup();\n  } else if (type === 'sound') {\n    media = createSoundPopup();\n  } else if (type === 'video') {\n    media = createVideoPopup();\n  }\n\n  popup.innerHTML = \"<div id=\\\"closePopup\\\">\\n            <img src='../img/close.png'>\\n         </div>\\n         <h1>\".concat(media.header, \"</h1>\\n         <div id=\\\"flexPositioner\\\">\\n            <div>\\n                <p>\").concat(media.instructions, \"</p>\\n            </div>\\n            <div id=\\\"addData\\\">\\n                \").concat(media.addidions, \"\\n                <div id=\\\"addUrl\\\">\\n                    <input type=\\\"text\\\">\\n                </div>\\n            </div>\\n            <div id=\\\"addMediaBtn\\\">\\n                Add \").concat(media.type === 'img' ? 'image' : media.type, \"\\n            </div>\\n         </div>\\n        \");\n  document.querySelector('#closePopup').addEventListener('click', closePopup);\n  document.querySelector('#addMediaBtn').addEventListener('click', function () {\n    return addMedia(type, media);\n  });\n}\n\nfunction createText(idx) {\n  var textBox = document.createElement('div');\n  var text = {\n    type: 'text',\n    id: counters.textCounter,\n    startPoint: playBox.getCurrentTime(),\n    endPoint: null,\n    text: '',\n    draggable: false,\n    styling: {\n      color: '',\n      background: '',\n      top: '',\n      left: '',\n      fontSize: ''\n    }\n  };\n  editedVideo.push(text);\n  actuallyEdited = text;\n  textBox.id = 'textBox';\n  document.body.appendChild(textBox);\n  stylingPlayer();\n  markArea('colorText', text.id);\n  createAddedText(counters.textCounter);\n  counters.textCounter++;\n}\n\nfunction createTextToolBox() {\n  document.querySelector('#textBox').innerHTML = \"<div id='ownTextBox'>Your's text:<input type='text' id='textInput' value='Lorem Ispum'></div>\\n     <div id=\\\"textSize\\\">\\n        Text size:\\n        <input type=\\\"number\\\" id=\\\"textSizeInput\\\" min=\\\"1\\\" max=\\\"100\\\" value=\\\"20\\\">\\n     </div>\\n     <div id=\\\"textBackground\\\">\\n        Text background:\\n        <input type=\\\"color\\\" value=\\\"#000002\\\">\\n     </div>\\n     <div id=\\\"textColor\\\">\\n        Text color:\\n        <input type=\\\"color\\\" value=\\\"#fdffff\\\">\\n     </div>\\n     <div id=\\\"textEndPoint\\\">\\n        <div id=\\\"saveEdits\\\">\\n            Save\\n        </div>\\n     </div>\";\n}\n\nfunction changeTextBackground(rgbStr) {\n  var rgbColor = hexToRgb(document.querySelector('#textBackground input').value);\n  rgbStr = \"rgba(\".concat(rgbColor[0], \", \").concat(rgbColor[1], \", \").concat(rgbColor[2], \", 0.8)\");\n  document.querySelector('#videoText').style.background = rgbStr;\n}\n\nfunction changeTextColor() {\n  document.querySelector('#videoText').style.color = document.querySelector('#textColor input').value;\n}\n\nfunction changeTextSize(key) {\n  if (key === 13) {\n    document.querySelector('#videoText').style.fontSize = \"\".concat(document.querySelector('#textSizeInput').value, \"px\");\n  }\n}\n\nfunction typeText(key) {\n  if (key === 13) {\n    document.querySelector('#videoText').textContent = document.querySelector('#textInput').value;\n  }\n}\n\nfunction saveTextEdits(rgbStr) {\n  editedVideo.forEach(function (edit) {\n    if (edit.id === actuallyEdited.id && edit.type === actuallyEdited.type) {\n      edit.text = document.querySelector('#textInput').value;\n      edit.styling.color = document.querySelector('#textColor input').value;\n      edit.styling.background = rgbStr;\n      edit.styling.top = document.querySelector('#videoText').style.top;\n      edit.styling.left = document.querySelector('#videoText').style.left;\n      edit.styling.fontSize = \"\".concat(document.querySelector('#textSizeInput').value, \"px\");\n      pickEndOfText(edit);\n    }\n  });\n}\n\nfunction textStyling(own) {\n  var rgbStr;\n  addGoBackButton(removeVideoBox);\n  createTextToolBox();\n  document.querySelector('#textInput').addEventListener('keydown', function (e) {\n    return typeText(e.keyCode);\n  });\n  document.querySelector('#textSize').addEventListener('keydown', function (e) {\n    return changeTextSize(e.keyCode);\n  });\n  document.querySelector('#textBackground input').addEventListener('change', function () {\n    return changeTextBackground(rgbStr);\n  });\n  document.querySelector('#textColor input').addEventListener('change', changeTextColor);\n  document.querySelector('#saveEdits').addEventListener('click', function () {\n    return saveTextEdits(rgbStr);\n  });\n}\n\nfunction removeVideoBox() {\n  document.querySelector('#videoText') !== null ? document.querySelector('#videoText').remove() : null;\n  document.querySelector('#textBox') !== null ? document.querySelector('#textBox').remove() : null;\n}\n\nfunction saveTextEndPoint(edit) {\n  markArea('colorText', edit.id);\n  connectMarks('colorText', edit.id);\n  document.querySelector('#goBack').remove();\n  edit.endPoint = playBox.getCurrentTime();\n  document.querySelector('#textBox').remove();\n\n  if (window.screen.width >= 1600) {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"81%\" : null;\n  } else {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"75%\" : null;\n  }\n\n  document.querySelector('#player').style.width = \"100%\";\n  document.querySelector('#player').style.position = 'static';\n}\n\nfunction pickEndOfText(edit) {\n  document.querySelector('#textBox').style.justifyContent = 'center';\n  document.querySelector('#textBox').style.width = '15%';\n  document.querySelector('#textBox').innerHTML = '<p>Move video to the point where your text should disapear</p><div id=\"saveEdits\">Save</div>';\n  document.querySelector('#videoText').remove();\n  document.querySelector('#saveEdits').addEventListener('click', function () {\n    return saveTextEndPoint(edit);\n  });\n}\n\nfunction hexToRgb(hex) {\n  \"use strict\";\n\n  if (hex.charAt(0) === '#') {\n    hex = hex.substr(1);\n  }\n\n  if (hex.length < 2 || hex.length > 6) {\n    return false;\n  }\n\n  var values = hex.split(''),\n      r,\n      g,\n      b;\n\n  if (hex.length === 2) {\n    r = parseInt(values[0].toString() + values[1].toString(), 16);\n    g = r;\n    b = r;\n  } else if (hex.length === 3) {\n    r = parseInt(values[0].toString() + values[0].toString(), 16);\n    g = parseInt(values[1].toString() + values[1].toString(), 16);\n    b = parseInt(values[2].toString() + values[2].toString(), 16);\n  } else if (hex.length === 6) {\n    r = parseInt(values[0].toString() + values[1].toString(), 16);\n    g = parseInt(values[2].toString() + values[3].toString(), 16);\n    b = parseInt(values[4].toString() + values[5].toString(), 16);\n  } else {\n    return false;\n  }\n\n  return [r, g, b];\n}\n\nfunction makeTextDraggable(e, text) {\n  if (document.querySelector('#videoText') !== null) {\n    e.preventDefault();\n    document.querySelector('#videoText').style.border = '1px dashed #fff';\n    text.draggable = true;\n  }\n}\n\nfunction stopTextBeingDraggable(text) {\n  document.querySelector('#videoText').style.border = 'none';\n  text.draggable = false;\n}\n\nfunction movingText(e, text) {\n  if (text.draggable === true && document.querySelector('#videoText') !== null) {\n    e.preventDefault();\n    document.querySelector('#videoText').style.top = \"\".concat(calculatePercentage(e.clientY, window.innerHeight));\n    document.querySelector('#videoText').style.left = \"\".concat(calculatePercentage(e.clientX, window.innerWidth));\n  }\n}\n\nfunction createAddedText(textID) {\n  var text;\n  textStyling();\n  createVideoText();\n  editedVideo.forEach(function (edit) {\n    if (edit.type === 'text' && edit.id === textID) {\n      text = edit;\n    }\n  });\n  document.querySelector('#videoText').className = 'noSelect';\n  document.querySelector('#videoText').addEventListener('mousedown', function (e) {\n    return makeTextDraggable(e, text);\n  });\n  document.querySelector('#videoText').addEventListener('mouseup', function () {\n    return stopTextBeingDraggable(text);\n  });\n  document.querySelector('#videoText').addEventListener('mouseleave', function () {\n    return stopTextBeingDraggable(text);\n  });\n  document.addEventListener('mousemove', function (e) {\n    return movingText(e, text);\n  });\n}\n\nfunction createVideoText() {\n  var videoText = document.createElement('div');\n  videoText.id = 'videoText';\n  videoText.textContent = document.querySelector('#textInput').value;\n  videoText.style.fontSize = document.querySelector('#textSizeInput').value;\n  document.body.appendChild(videoText);\n}\n\nfunction saveSoundEdits(idx) {\n  document.querySelector('#goBack').remove();\n  editedVideo.forEach(function (edit) {\n    if (edit.id === idx && edit.type === 'sound') {\n      edit.endPoint = playBox.getCurrentTime();\n      document.querySelector('#player').style.position = 'static';\n      document.querySelector('#player').style.width = \"100%\";\n      document.querySelector('#player').style.height = \"100%\";\n\n      if (window.screen.width >= 1600) {\n        document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"83%\" : null;\n      } else {\n        document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"75%\" : null;\n      }\n\n      document.querySelector('#audioBox').remove();\n      markArea('soundColor', edit.id);\n      connectMarks('soundColor', edit.id);\n    }\n  });\n}\n\nfunction addingSound(idx) {\n  var audio = new Audio();\n  var audioBox = document.createElement('div');\n  audioBox.className = 'simpleTool';\n  audioBox.id = 'audioBox';\n  audioBox.innerHTML = '<p>Move video to the point where sound should stop playing</p><div id=\"saveEdits\">Save</div>';\n  document.body.appendChild(audioBox);\n  addGoBackButton(removeAudioBox);\n  editedVideo.forEach(function (edit) {\n    if (edit.id === idx && edit.type === 'sound') {\n      audio.src = edit.src;\n      markArea('soundColor', edit.id);\n    }\n  });\n  document.querySelector('#saveEdits').addEventListener('click', function () {\n    return saveSoundEdits(idx);\n  });\n  stylingPlayer();\n}\n\nfunction removeAudioBox() {\n  document.querySelector('#audioBox').remove();\n}\n\nfunction addGoBackButton(fnc) {\n  var goBack = document.createElement('div');\n  goBack.id = 'goBack';\n  goBack.innerHTML = \"<img src='../img/goBack.png'>\";\n  document.querySelector(\"#goBack\") === null ? document.body.appendChild(goBack) : null;\n  goBackEventListner(fnc);\n}\n\nfunction goBackEventListner(fnc) {\n  document.querySelector('#goBack').addEventListener('click', function () {\n    fnc();\n    goBackFnc();\n  });\n}\n\nfunction goBackFnc() {\n  document.querySelector('#player').style.position = 'static';\n  document.querySelector('#player').style.width = \"100%\";\n  document.querySelector('#player').style.height = \"100%\";\n  document.querySelector('#goBack') !== null ? document.querySelector('#goBack').remove() : null;\n\n  if (document.querySelector(\".marker\") !== null) {\n    if (document.querySelectorAll('.marker')[document.querySelectorAll('.marker').length - 1] !== null && actuallyEdited.type !== \"link\" && !watching) {\n      document.querySelectorAll('.marker')[document.querySelectorAll('.marker').length - 1].remove();\n    }\n  }\n\n  watching = false;\n}\n\nfunction createVideoManipulation() {\n  document.querySelector('#videoBox').innerHTML = \"<div id=\\\"sizeUp\\\" class=\\\"tool\\\">\\n            <img src='../img/changeSize.png'>\\n        </div>\\n        <div id=\\\"sizeDown\\\" class=\\\"tool\\\">\\n            <img src='../img/changeSizeBottom.png'>\\n        </div>\\n        <div id=\\\"heightUp\\\" class=\\\"tool\\\">\\n            <img src='../img/arrowUp.png'>\\n        </div>\\n        <div id=\\\"heightBottom\\\" class=\\\"tool\\\">\\n            <img src='../img/arrowDown.png'>\\n        </div>\\n        <div id=\\\"widthUp\\\" class=\\\"tool\\\">\\n            <img src='../img/arrowRight.png'>\\n        </div>\\n        <div id=\\\"widthBottom\\\" class=\\\"tool\\\">\\n            <img src='../img/arrowLeft.png'>\\n        </div>\";\n}\n\nfunction addingVideo(idx) {\n  var video = document.createElement('iframe');\n  var videoRepresentation;\n  editedVideo.forEach(function (edit) {\n    if (edit.id === idx && edit.type === 'video') {\n      actuallyEdited = edit;\n      videoRepresentation = edit;\n      edit.src = edit.src.replace('watch?v=', 'embed/');\n      edit.styling.width = '250';\n      edit.styling.height = '150';\n      edit.styling.top = \"\".concat(window.innerHeight / 2, \"px\");\n      edit.styling.left = \"\".concat(window.innerWidth / 2, \"px\");\n      video.style.top = \"\".concat(window.innerHeight / 2, \"px\");\n      video.style.left = \"\".concat(window.innerWidth / 2, \"px\");\n      video.src = edit.src;\n      markArea('videoColor', edit.id);\n    }\n  });\n  video.id = 'addedVideo';\n  video.width = videoRepresentation.styling.width;\n  video.height = videoRepresentation.styling.height;\n  document.body.appendChild(video);\n  stylingPlayerForMedia();\n  createVideoBox();\n  createVideoManipulation();\n  videoTools(videoRepresentation.id);\n}\n\nfunction createVideoBox() {\n  var firstDiv = document.createElement('div');\n  firstDiv.id = 'videoStyleBox';\n  firstDiv.dataset.direction = 'left';\n\n  for (var i = 0; i < 6; i++) {\n    var newDiv = document.createElement('div');\n    var img = new Image();\n\n    switch (i) {\n      case 0:\n        img.src = '../img/changeSide.png';\n        newDiv.id = 'switchSides';\n        newDiv.appendChild(img);\n        break;\n\n      case 1:\n        img.src = '../img/hide.png';\n        newDiv.id = 'hideToolBox';\n        newDiv.dataset.visible = 'visible';\n        newDiv.appendChild(img);\n        break;\n\n      case 2:\n        newDiv.id = 'videoBox';\n        break;\n\n      case 3:\n        newDiv.classList.add('videoSize', 'videoTool');\n        newDiv.innerHTML = \"Width:\\n                         <input id=\\\"videoWidth\\\" type=\\\"text\\\" placeholder=\\\"Width (values in px)\\\" value=\\\"\".concat(document.querySelector('#addedVideo').width, \"\\\">\");\n        break;\n\n      case 4:\n        newDiv.classList.add('videoSize', 'videoTool');\n        newDiv.innerHTML = \"Height:\\n                         <input id=\\\"videoHeight\\\" type=\\\"text\\\" placeholder=\\\"Height (values in px)\\\" value=\\\"\".concat(document.querySelector('#addedVideo').height, \"\\\">\");\n        break;\n\n      case 5:\n        newDiv.id = 'saveEdits';\n        newDiv.textContent = 'Save edits';\n        break;\n    }\n\n    firstDiv.appendChild(newDiv);\n  }\n\n  document.body.appendChild(firstDiv);\n  createVideoTools();\n  addGoBackButton(removeVideo);\n}\n\nfunction createVideoTools() {\n  createVideoManipulation();\n  addGoBackButton(removeVideo);\n  document.querySelector('#switchSides').addEventListener('click', function () {\n    return switchToolBoxSide('videoStyleBox');\n  });\n  document.querySelector('#hideToolBox').addEventListener('click', function () {\n    return hideToolBox('videoStyleBox');\n  });\n  document.querySelector('#videoWidth').addEventListener('keydown', function (e) {\n    return typedWidthVideo(e.keyCode);\n  });\n  document.querySelector('#videoHeight').addEventListener('keydown', function (e) {\n    return typedHeightVideo(e.keyCode);\n  });\n  document.querySelector('#saveEdits').addEventListener('click', saveEditedVideo);\n  document.addEventListener('mouseup', stopVideoAnimation);\n}\n\nfunction removeVideo() {\n  document.querySelector('#videoStyleBox') !== null ? document.querySelector('#videoStyleBox').remove() : null;\n  document.querySelector('#addedVideo') !== null ? document.querySelector('#addedVideo').remove() : null;\n}\n\nfunction saveEditedVideo(edit) {\n  editedVideo.forEach(function (edit) {\n    if (edit.type === actuallyEdited.type && edit.id === actuallyEdited.id) {\n      edit.styling.width = Number(document.querySelector('#videoWidth').value);\n      edit.styling.height = Number(document.querySelector('#videoHeight').value);\n      edit.styling.top = document.querySelector('#addedVideo').style.top;\n      edit.styling.left = document.querySelector('#addedVideo').style.left;\n      document.querySelector('#videoStyleBox').innerHTML = \"<p>\\n                        Now move video to the point where your video should disapear \\n                     </p>\\n                     <div id=\\\"saveEdits\\\">Save</div>\";\n      document.querySelector('#videoStyleBox').style.width = '20%';\n      document.querySelector('#saveEdits').addEventListener('click', function () {\n        return saveVideoEndPoint(edit);\n      });\n    }\n  });\n}\n\nfunction saveVideoEndPoint(edit) {\n  edit.endPoint = playBox.getCurrentTime();\n  markArea('videoColor', edit.id);\n  connectMarks('videoColor', edit.id);\n\n  if (window.screen.width >= 1600) {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"83%\" : null;\n  } else {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"75%\" : null;\n  }\n\n  document.querySelector('#addedVideo').remove();\n  document.querySelector('#goBack').remove();\n  document.querySelector('#player').style.position = 'static';\n  document.querySelector('#videoStyleBox').remove();\n}\n\nfunction stopVideoAnimation() {\n  changeSize !== null ? clearInterval(changeSize) : null;\n  rotateInt !== null ? clearInterval(rotateInt) : null;\n}\n\nfunction typedRotateVideo(key) {\n  if (key === 13) {\n    document.querySelector('#addedVideo').style.transform = \"translate(-50%, -50%) rotate(\".concat(document.querySelector('#videoRotate input').value, \"deg)\");\n  }\n}\n\nfunction typedWidthVideo(key) {\n  if (key === 13) {\n    document.querySelector('#addedVideo').width = document.querySelector('#videoWidth').value;\n  }\n}\n\nfunction typedHeightVideo(key) {\n  if (key === 13) {\n    document.querySelector('#addedVideo').height = document.querySelector('#videoHeight').value;\n  }\n}\n\nfunction createVideoOverlayer(vid) {\n  var overlayer = document.createElement('div');\n  overlayer.id = 'videoOverlayer';\n  document.querySelector('#videoOverlayer') === null ? document.body.appendChild(overlayer) : null;\n  overlayer.style.width = \"\".concat(document.querySelector('#addedVideo').width, \"px\");\n  overlayer.style.height = \"\".concat(document.querySelector('#addedVideo').height, \"px\");\n  overlayer.style.top = document.querySelector('#addedVideo').style.top;\n  overlayer.style.left = document.querySelector('#addedVideo').style.left;\n  videoOverlayer.rotate > 0 ? overlayer.style.transform = \"rotate(\".concat(videoOverlayer.rotate, \"deg)\") : null;\n  document.querySelector('#videoOverlayer').addEventListener('mouseout', function () {\n    return removeVideoOverlayer(vid);\n  });\n  document.querySelector('#videoOverlayer').addEventListener('mousedown', function () {\n    return vid.draggable = true;\n  });\n  document.addEventListener('mouseup', function () {\n    return vid.draggable = false;\n  });\n}\n\nfunction removeVideoOverlayer(vid) {\n  if (document.querySelector('#videoOverlayer') !== null) {\n    document.querySelector('#videoOverlayer').remove();\n  }\n\n  vid.draggable = false;\n}\n\nfunction videoTools(videoID) {\n  var vid;\n  editedVideo.forEach(function (edit) {\n    if (edit.type === 'video' && edit.id === videoID) {\n      vid = edit;\n    }\n  });\n  document.querySelector('#addedVideo').addEventListener('mouseover', function () {\n    return createVideoOverlayer(vid);\n  });\n  document.addEventListener('mousemove', function (e) {\n    return moveVideo(e, vid);\n  });\n  document.querySelector('#sizeUp').addEventListener('mousedown', function () {\n    return changeSize = setInterval(function () {\n      return changeBothVidSize('up');\n    }, 1000 / 60);\n  });\n  document.querySelector('#sizeDown').addEventListener('mousedown', function () {\n    return changeSize = setInterval(function () {\n      return changeBothVidSize('down');\n    }, 1000 / 60);\n  });\n  document.querySelector('#sizeUp').addEventListener('mouseup', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#sizeUp').addEventListener('mouseleave', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#sizeDown').addEventListener('mouseup', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#heightUp').addEventListener('mousedown', function () {\n    return changeSize = setInterval(function () {\n      return changeVidSize('height', 'up');\n    }, 1000 / 60);\n  });\n  document.querySelector('#heightBottom').addEventListener('mousedown', function () {\n    return changeSize = setInterval(function () {\n      return changeVidSize('height', 'bottom');\n    }, 1000 / 60);\n  });\n  document.querySelector('#widthUp').addEventListener('mousedown', function () {\n    return changeSize = setInterval(function () {\n      return changeVidSize('width', 'up');\n    }, 1000 / 60);\n  });\n  document.querySelector('#widthBottom').addEventListener('mousedown', function () {\n    return changeSize = setInterval(function () {\n      return changeVidSize('width', 'bottom');\n    }, 1000 / 60);\n  });\n  document.querySelector('#heightUp').addEventListener('mouseup', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#heightBottom').addEventListener('mouseup', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#widthUp').addEventListener('mouseup', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#widthUp').addEventListener('mouseleave', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#widthBottom').addEventListener('mouseup', function () {\n    return clearInterval(changeSize);\n  });\n}\n\nfunction changeVidSize(size, type) {\n  var vid = document.querySelector('#addedVideo');\n  var ov;\n\n  if (Number(vid[size]) <= 20 && type !== 'up') {\n    return;\n  }\n\n  if (document.querySelector('#videoOverlayer') === null) {\n    ov = document.createElement('div');\n    ov.id = 'videoOverlayer';\n  } else {\n    ov = document.querySelector('#videoOverlayer');\n  }\n\n  if (type === 'up') {\n    ov[size] = Number(ov[size]) + 10;\n    vid[size] = Number(vid[size]) + 10;\n  } else {\n    vid[size] = Number(vid[size]) - 10;\n    ov[size] = Number(ov[size]) - 10;\n  }\n\n  document.querySelector(\"#video\".concat(size[0].toUpperCase() + size.slice(1))).value = Math.round(Number(vid[size]));\n}\n\nfunction changeBothVidSize(type) {\n  var vid = document.querySelector('#addedVideo');\n  var ov;\n\n  if ((Number(vid.width) <= 20 || Number(vid.height) <= 20) && type !== 'up') {\n    return;\n  }\n\n  if (document.querySelector('#videoOverlayer') === null) {\n    ov = document.createElement('div');\n    ov.id = 'videoOverlayer';\n  } else {\n    ov = document.querySelector('#videoOverlayer');\n  }\n\n  if (type === 'up') {\n    vid.width = Number(vid.width) + Number(vid.width) / 10;\n    vid.height = Number(vid.height) + Number(vid.height) / 10;\n    ov.width = Number(vid.width) + Number(vid.width) / 10;\n    ov.height = Number(ov.height) + Number(ov.height) / 10;\n  } else {\n    vid.width = Number(vid.width) - Number(vid.width) / 10;\n    vid.height = Number(vid.height) - Number(vid.height) / 10;\n    ov.width = Number(vid.width) - Number(vid.width) / 10;\n    ov.height = Number(ov.height) - Number(ov.height) / 10;\n  }\n\n  document.querySelector(\"#videoWidth\").value = Math.round(Number(vid.width));\n  document.querySelector(\"#videoHeight\").value = Math.round(Number(vid.height));\n}\n\nfunction moveVideo(e, vid) {\n  if (vid.draggable === true) {\n    e.preventDefault();\n    document.querySelector('#addedVideo').style.top = \"\".concat(calculatePercentage(e.clientY, window.innerHeight));\n    document.querySelector('#addedVideo').style.left = \"\".concat(calculatePercentage(e.clientX, window.innerWidth));\n    document.querySelector('#videoOverlayer').style.top = document.querySelector('#addedVideo').style.top;\n    document.querySelector('#videoOverlayer').style.left = document.querySelector('#addedVideo').style.left;\n  }\n}\n\nfunction makeImgDraggable(id, e, imgRepresentation) {\n  e.preventDefault();\n  imgRepresentation.draggable = true;\n  moveImg(id);\n}\n\nfunction stylingImg(id) {\n  var img = document.createElement('img');\n  var imgRepresentation;\n  var startPoint;\n  var idx;\n  editedVideo.forEach(function (edit) {\n    if (edit.type === 'img') {\n      if (edit.id === id) {\n        imgRepresentation = edit;\n      }\n    }\n  });\n  startPoint = imgRepresentation.startPoint;\n  idx = imgRepresentation.id;\n  img.src = imgRepresentation.src;\n  stylingPlayerForMedia();\n  markArea('imgColor', imgRepresentation.id);\n  img.id = 'editedImg';\n  document.body.appendChild(img);\n  playBox.pauseVideo();\n\n  img.onload = function () {\n    img.width = img.width;\n    img.height = img.height;\n    actuallyEdited = {\n      type: 'img',\n      id: idx\n    };\n    createImgStyleBox();\n    document.querySelector('#editedImg').addEventListener('mousedown', function (e) {\n      return makeImgDraggable(id, e, imgRepresentation);\n    });\n    document.querySelector('#editedImg').addEventListener('mouseup', function () {\n      return imgRepresentation.draggable = false;\n    });\n    document.querySelector('#editedImg').style.left = \"50%\";\n    document.querySelector('#editedImg').style.top = \"50%\";\n  };\n}\n\nfunction imageManipulation() {\n  document.querySelector('#rotateImage').addEventListener('mousedown', function () {\n    return rotateInt = setInterval(function () {\n      return imageRotating('right');\n    }, 1000 / 60);\n  });\n  document.querySelector('#rotateReverseImage').addEventListener('mousedown', function () {\n    return rotateInt = setInterval(function () {\n      return imageRotating('left');\n    }, 1000 / 60);\n  });\n  document.querySelector('#changeSize').addEventListener('mousedown', function () {\n    return changeImageSize('up');\n  });\n  document.querySelector('#changeSize').addEventListener('mouseleave', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#changeSizeBottom').addEventListener('mousedown', function () {\n    return changeImageSize('bottom');\n  });\n  document.querySelector('#changeHeightUp').addEventListener('mousedown', function () {\n    return startChangingSize('height', 'up');\n  });\n  document.querySelector('#changeHeightDown').addEventListener('mousedown', function () {\n    return startChangingSize('height', 'down');\n  });\n  document.querySelector('#changeWidthUp').addEventListener('mousedown', function () {\n    return startChangingSize('width', 'up');\n  });\n  document.querySelector('#changeWidthUp').addEventListener('mouseleave', function () {\n    return clearInterval(changeSize);\n  });\n  document.querySelector('#changeWidthDown').addEventListener('mousedown', function () {\n    return startChangingSize('width', 'down');\n  });\n}\n\nfunction createImgStyleBox() {\n  var firstDiv = document.createElement('div');\n  firstDiv.id = 'imgStyleBox';\n  firstDiv.dataset.direction = 'left';\n\n  for (var i = 0; i < 8; i++) {\n    var newDiv = document.createElement('div');\n    var img = new Image();\n\n    switch (i) {\n      case 0:\n        img.src = '../img/changeSide.png';\n        newDiv.id = 'switchSides';\n        newDiv.appendChild(img);\n        break;\n\n      case 1:\n        img.src = '../img/hide.png';\n        newDiv.id = 'hideToolBox';\n        newDiv.dataset.visible = 'visible';\n        newDiv.appendChild(img);\n        break;\n\n      case 2:\n        newDiv.id = 'imgManipulation';\n        break;\n\n      case 3:\n        newDiv.classList.add('imgSize', 'imgTool');\n        newDiv.innerHTML = \"Width:\\n                     <input id=\\\"imgWidth\\\" type=\\\"text\\\" placeholder=\\\"Width (values in px)\\\" value=\\\"\".concat(document.querySelector('#editedImg').width, \"\\\">\");\n        break;\n\n      case 4:\n        newDiv.classList.add('imgSize', 'imgTool');\n        newDiv.innerHTML = \"Height:\\n                     <input id=\\\"imgHeight\\\" type=\\\"text\\\" placeholder=\\\"Height (values in px)\\\" value=\\\"\".concat(document.querySelector('#editedImg').height, \"\\\">\");\n        break;\n\n      case 5:\n        newDiv.id = 'imgOpacity';\n        newDiv.className = 'imgTool';\n        newDiv.innerHTML = \"Opacity:\\n                     <input type=\\\"text\\\" placeholder=\\\"Value between 0 and 100\\\" value=\\\"100\\\">\";\n        break;\n\n      case 6:\n        newDiv.id = 'imgRotate';\n        newDiv.className = 'imgTool';\n        newDiv.innerHTML = \"Rotate:\\n                     <input type=\\\"text\\\" placeholder=\\\"Value between 0-360\\\" value=\\\"0\\\">\";\n        break;\n\n      case 7:\n        newDiv.id = 'saveEdits';\n        newDiv.textContent = 'Save edits';\n        break;\n    }\n\n    firstDiv.appendChild(newDiv);\n  }\n\n  document.body.appendChild(firstDiv);\n  createImageManipulation();\n  createImgTools();\n}\n\nfunction createImageManipulation() {\n  document.querySelector('#imgManipulation').innerHTML = \"<div id=\\\"changeSize\\\">\\n            <img src='../img/changeSize.png'>\\n        </div>\\n        <div id=\\\"changeSizeBottom\\\">\\n            <img src='../img/changeSizeBottom.png'>\\n        </div>\\n        <div id=\\\"changeHeightUp\\\">\\n            <img src='../img/arrowUp.png'>\\n        </div>\\n        <div id=\\\"changeHeightDown\\\">\\n            <img src='../img/arrowDown.png'>\\n        </div>\\n        <div id=\\\"changeWidthUp\\\">\\n            <img src='../img/arrowRight.png'>\\n        </div>\\n        <div id=\\\"changeWidthDown\\\">\\n            <img src='../img/arrowLeft.png'>\\n        </div>\\n        <div id=\\\"rotateImage\\\">\\n            <img src='../img/rotate.png'>\\n        </div>\\n        <div id=\\\"rotateReverseImage\\\">\\n            <img src='../img/rotateReverse.png'>\\n        </div>\";\n}\n\nfunction switchToolBoxSide(boxID) {\n  var box = document.querySelector(\"#\".concat(boxID));\n\n  if (box.dataset.direction === 'right') {\n    box.dataset.direction = 'left';\n    box.style.left = '0%';\n    box.style.right = 'auto';\n  } else {\n    box.dataset.direction = 'right';\n    box.style.right = '0%';\n    box.style.left = 'auto';\n  }\n}\n\nfunction hideToolBox(boxID) {\n  var box = document.createElement('div');\n  var img = new Image();\n  box.id = 'hideTool';\n  box.appendChild(img);\n  img.src = '../img/hide.png';\n  document.body.appendChild(box);\n  document.querySelector(\"#\".concat(boxID)).dataset.direction === 'right' ? document.querySelector('#hideTool').style.left = '90%' : document.querySelector('#hideTool').style.left = '7%';\n  document.querySelector(\"#\".concat(boxID)).remove();\n  document.querySelector('#hideTool').addEventListener('click', function () {\n    return removeHideTool(boxID);\n  });\n  addGoBackButton(removeVideo);\n}\n\nfunction removeHideTool(boxID) {\n  document.querySelector('#hideTool').remove();\n  boxID.includes('video') ? createVideoBox() : createImgStyleBox();\n}\n\nfunction typedRotateImage(key) {\n  if (key === 13) {\n    document.querySelector('#editedImg').style.transform = \"translate(-50%, -50%) rotate(\".concat(document.querySelector('#imgRotate input').value, \"deg)\");\n  }\n}\n\nfunction typedOpacityImage(key) {\n  if (key === 13) {\n    document.querySelector('#editedImg').style.opacity = Number(document.querySelector('#imgOpacity input').value) / 100;\n  }\n}\n\nfunction typedWidthImage(key) {\n  if (key === 13) {\n    document.querySelector('#editedImg').width = document.querySelector('#imgWidth').value;\n  }\n}\n\nfunction typedHeightImage(key) {\n  if (key === 13) {\n    document.querySelector('#editedImg').height = document.querySelector('#imgHeight').value;\n  }\n}\n\nfunction stopImageAnimations() {\n  changeSize !== null ? clearInterval(changeSize) : null;\n  rotateInt !== null ? clearInterval(rotateInt) : null;\n}\n\nfunction createImgTools() {\n  imageManipulation();\n  addGoBackButton(removeImage);\n  document.querySelector('#switchSides').addEventListener('click', function () {\n    return switchToolBoxSide('imgStyleBox');\n  });\n  document.querySelector('#hideToolBox').addEventListener('click', function () {\n    return hideToolBox('imgStyleBox');\n  });\n  document.querySelector('#imgRotate input').addEventListener('keydown', function (e) {\n    return typedRotateImage(e.keyCode);\n  });\n  document.querySelector('#imgOpacity input').addEventListener('keydown', function (e) {\n    return typedOpacityImage(e.keyCode);\n  });\n  document.querySelector('#imgWidth').addEventListener('keydown', function (e) {\n    return typedWidthImage(e.keyCode);\n  });\n  document.querySelector('#imgHeight').addEventListener('keydown', function (e) {\n    return typedHeightImage(e.keyCode);\n  });\n  document.querySelector('#saveEdits').addEventListener('click', saveEditedImage);\n  document.addEventListener('mouseup', stopImageAnimations);\n}\n\nfunction removeImage() {\n  document.querySelector('#editedImg') !== null ? document.querySelector('#editedImg').remove() : null;\n  document.querySelector('#imgManipulation') !== null ? document.querySelector('#imgManipulation').remove() : null;\n  document.querySelector('#imgStyleBox') !== null ? document.querySelector('#imgStyleBox').remove() : null;\n}\n\nfunction saveEditedImage() {\n  editedVideo.forEach(function (edit) {\n    if (edit.type === actuallyEdited.type && edit.id === actuallyEdited.id) {\n      edit.styling.width = Number(document.querySelector('#imgWidth').value);\n      edit.styling.height = Number(document.querySelector('#imgHeight').value);\n      edit.styling.opacity = Number(document.querySelector('#imgOpacity input').value);\n      edit.styling.rotate = Number(document.querySelector('#imgRotate input').value);\n      edit.styling.top = document.querySelector('#editedImg').style.top;\n      edit.styling.left = document.querySelector('#editedImg').style.left;\n      document.querySelector('#imgStyleBox').innerHTML = \"<p>\\n                    Now move video to the point where your image should disapear \\n                 </p>\\n                 <div id=\\\"saveEdits\\\">Save</div>\";\n      document.querySelector('#imgStyleBox').style.width = '20%';\n      document.querySelector(\"#goBack\").remove();\n      document.querySelector('#saveEdits').addEventListener('click', function () {\n        return saveImageEndPoint(edit);\n      });\n    }\n  });\n}\n\nfunction saveImageEndPoint(edit) {\n  edit.endPoint = playBox.getCurrentTime();\n  markArea('imgColor', edit.id);\n  connectMarks('imgColor', edit.id);\n\n  if (window.screen.width >= 1600) {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"83%\" : null;\n  } else {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"75%\" : null;\n  }\n\n  document.querySelector('#player').style.position = 'static';\n  document.querySelector('#imgStyleBox').remove();\n  document.querySelector('#editedImg').remove();\n}\n\nfunction imgToDataURL(source) {\n  var C = document.createElement('canvas');\n  var CTX = C.getContext('2d');\n  var img = new Image();\n  img.src = source;\n\n  img.onload = function () {\n    return CTX.drawImage(img, 0, 0);\n  };\n\n  return C.toDataURL();\n}\n\nfunction imageRotating(type) {\n  type === 'right' ? document.querySelector('#editedImg').style.transform = \"translate(-50%, -50%) rotate(\".concat(imgRotate += 1, \"deg)\") : document.querySelector('#editedImg').style.transform = \"translate(-50%, -50%) rotate(\".concat(imgRotate -= 1, \"deg)\");\n  document.querySelector('#imgRotate input').value = imgRotate + 'deg';\n}\n\nfunction changeImageSize(type) {\n  changeSize = setInterval(function () {\n    if (type === 'up') {\n      document.querySelector('#editedImg').width += document.querySelector('#editedImg').width / 10;\n      document.querySelector('#editedImg').height += document.querySelector('#editedImg').height / 10;\n    } else if (type === 'bottom') {\n      if (document.querySelector('#editedImg').width < 2 || document.querySelector('#editedImg').height < 2) {\n        return;\n      }\n\n      document.querySelector('#editedImg').width -= document.querySelector('#editedImg').width / 10;\n      document.querySelector('#editedImg').height -= document.querySelector('#editedImg').height / 10;\n    }\n\n    document.querySelector('#imgHeight').value = document.querySelector('#editedImg').height;\n    document.querySelector('#imgWidth').value = document.querySelector('#editedImg').width;\n  }, 1000 / 60);\n}\n\nfunction startChangingSize(size, type) {\n  changeSize = setInterval(function () {\n    if (type === 'up') {\n      document.querySelector('#editedImg')[size] = document.querySelector('#editedImg')[size] + 5;\n    } else if (type === 'down') {\n      if (document.querySelector('#editedImg').width < 2 || document.querySelector('#editedImg').height < 2) {\n        return;\n      }\n\n      document.querySelector('#editedImg')[size] = document.querySelector('#editedImg')[size] - 5;\n    }\n\n    actualSize(\"#img\".concat(size[0].toUpperCase() + size.slice(1)), document.querySelector('#editedImg')[size]);\n  }, 1000 / 60);\n}\n\nfunction actualSize(box, size) {\n  document.querySelector(box).value = size;\n}\n\nfunction moveImg(imgID) {\n  var img;\n  editedVideo.forEach(function (edit) {\n    if (edit.type === 'img' && edit.id === imgID) {\n      img = edit;\n    }\n  });\n  document.addEventListener('mousemove', function (e) {\n    if (img.draggable === true) {\n      e.preventDefault();\n      document.querySelector('#editedImg').style.top = \"\".concat(calculatePercentage(e.clientY, window.innerHeight));\n      document.querySelector('#editedImg').style.left = \"\".concat(calculatePercentage(e.clientX, window.innerWidth));\n    }\n  });\n}\n\nfunction closePopup() {\n  document.querySelector('#popup').remove();\n  document.querySelector('#overlayer').remove();\n}\n\nfunction addImg(e) {\n  var img = new Image();\n  document.querySelector('#progressBar').appendChild(img);\n  img.className = 'addedImg';\n  img.src = '../img/imgColor.png';\n  img.style.left = \"\".concat(e.screenX - 20, \"px\");\n} // Player\n\n\nvar player;\nvar vid;\nvar sound = null;\n\nfunction watchVideo(boxPlayer, video) {\n  vid = video;\n  player = boxPlayer;\n  var videoTime = setInterval(checkEdits, 1);\n\n  if (document.querySelector('#player') !== null) {\n    stylingPlayerForMedia();\n    addGoBackButton(stopWatchingVideo);\n  }\n\n  player.seekTo(0, true);\n  player.playVideo();\n}\n\nfunction stopWatchingVideo() {\n  playBox.pauseVideo();\n\n  if (window.screen.width >= 1600) {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"83%\" : null;\n  } else {\n    document.querySelector(\"#markerContainer\") !== null ? document.querySelector(\"#markerContainer\").style.width = \"75%\" : null;\n  }\n\n  document.querySelector('#player').style.position = 'static';\n  removeAllEdits();\n}\n\nfunction removeAllEdits() {\n  document.querySelector(\"#editedImg\") !== null ? document.querySelector(\"#editedImg\").remove() : null;\n  document.querySelector(\"#playingVideo\") !== null ? document.querySelector(\"#playingVideo\").remove() : null;\n  document.querySelector(\"#videoText\") !== null ? document.querySelector(\"#videoText\").remove() : null;\n  document.querySelector(\"#addedDrawing\") !== null ? document.querySelector(\"#addedDrawing\").remove() : null;\n}\n\nfunction checkEdits() {\n  vid.forEach(function (edit) {\n    if (!edit.hasOwnProperty('url')) {\n      if (Math.round(edit.startPoint) === Math.round(player.getCurrentTime())) {\n        playEdit(edit);\n      }\n\n      if (Math.round(edit.endPoint) === Math.round(player.getCurrentTime())) {\n        endEdit(edit);\n      }\n    }\n  });\n}\n\nfunction keepVideoMute() {\n  if (!player.isMuted()) {\n    player.mute();\n  }\n}\n\nfunction endEdit(edit) {\n  if (edit.type === 'mute') {\n    if (player.isMuted()) {\n      player.unMute();\n    }\n  } else if (edit.type === 'img') {\n    document.querySelector('#editedImg') !== null ? document.querySelector('#editedImg').remove() : null;\n  } else if (edit.type === 'drawing') {\n    document.querySelector('#addedDrawing') !== null ? document.querySelector('#addedDrawing').remove() : null;\n  } else if (edit.type === 'sound') {\n    sound.pause();\n  } else if (edit.type === 'video') {\n    document.querySelector('#playingVideo') !== null ? document.querySelector('#playingVideo').remove() : null;\n  } else if (edit.type === 'text') {\n    document.querySelector('#videoText') !== null ? document.querySelector('#videoText').remove() : null;\n  }\n}\n\nfunction playEdit(edit) {\n  if (edit.type === 'mute') {\n    keepVideoMute();\n  } else if (edit.type === 'img') {\n    playEditedImg(edit);\n  } else if (edit.type === 'text') {\n    playEditedText(edit);\n  } else if (edit.type === 'drawing') {\n    playEditedDrawing(edit);\n  } else if (edit.type === 'sound') {\n    playEditedSound(edit);\n  } else if (edit.type === 'delete') {\n    playEditedDelete(edit);\n  } else if (edit.type === 'video') {\n    playEditedVideo(edit);\n  } else if (edit.type === 'link') {\n    playEditedLink(edit);\n  }\n}\n\nfunction playEditedLink(edit) {\n  if (document.querySelector('#editedImg') !== null) {\n    document.querySelector('#editedImg').addEventListener('click', function () {\n      document.querySelector('#editedImg').remove();\n      player.seekTo(edit.linkTo);\n    });\n  }\n}\n\nfunction playEditedImg(edit) {\n  if (document.querySelector(\"#editedImg\") === null) {\n    var img = document.createElement('img');\n    img.src = edit.src;\n    img.id = 'editedImg';\n    img.style.zIndex = '99999';\n    document.body.appendChild(img);\n\n    for (var _key2 in edit.styling) {\n      _key2 === 'width' ? img.style[_key2] = \"\".concat(edit.styling[_key2], \"px\") : null;\n      _key2 === 'height' ? img.style[_key2] = \"\".concat(edit.styling[_key2], \"px\") : null;\n      img.style[_key2] = edit.styling[_key2];\n    }\n  }\n}\n\nfunction playEditedVideo(edit) {\n  var video = document.createElement('iframe');\n  video.id = 'playingVideo';\n  video.src = edit.src;\n  document.querySelector('#playingVideo') === null ? document.body.appendChild(video) : null;\n\n  for (var _key3 in edit.styling) {\n    _key3 === 'width' ? video.style[_key3] = \"\".concat(edit.styling[_key3], \"px\") : null;\n    _key3 === 'height' ? video.style[_key3] = \"\".concat(edit.styling[_key3], \"px\") : null;\n    video.style[_key3] = edit.styling[_key3];\n  }\n}\n\nfunction playEditedText(edit) {\n  var textBox = document.createElement('div');\n  textBox.id = 'videoText';\n  document.querySelector('#videoText') === null ? document.body.appendChild(textBox) : null;\n  textBox.textContent = edit.text;\n\n  for (key in edit.styling) {\n    document.querySelector('#videoText').style[key] = edit.styling[key];\n  }\n}\n\nfunction playEditedDrawing(edit) {\n  var drawing = document.createElement('img');\n  drawing.src = edit.src;\n  drawing.id = 'addedDrawing';\n\n  if (document.querySelector('#addedDrawing') === null) {\n    document.body.appendChild(drawing);\n  }\n}\n\nfunction playEditedSound(edit) {\n  if (sound === null) {\n    sound = new Audio();\n    sound.src = edit.src;\n    sound.play();\n  }\n}\n\nfunction playEditedDelete(edit) {\n  player.seekTo(edit.endPoint);\n}\n\nfunction loadScript() {\n  if (typeof YT == 'undefined' || typeof YT.Player == 'undefined') {\n    var TAG = document.createElement('script');\n    var FIRST_SCRIPT_TAG = document.getElementsByTagName('script')[0];\n    TAG.src = \"https://www.youtube.com/iframe_api\";\n    FIRST_SCRIPT_TAG.parentNode.insertBefore(TAG, FIRST_SCRIPT_TAG);\n\n    window.onYouTubePlayerAPIReady = function () {\n      createVideo();\n    };\n  } else {\n    createVideo();\n  }\n}\n\nfunction createVideo() {\n  playBox = new YT.Player('player', {\n    videoId: sessionStorage.getItem('url'),\n    events: {\n      onReady: createTools\n    },\n    playerVars: {\n      rel: 0,\n      showinfo: 0,\n      ecver: 2\n    }\n  });\n}\n\nfunction stylingPlayer() {\n  document.querySelector('#player').style.position = 'absolute';\n  document.querySelector('#player').style.top = '0';\n  document.querySelector('#player').style.left = '0';\n\n  if (!mobilecheck()) {\n    if (window.screen.width >= 1600) {\n      document.querySelector(\"#markerContainer\").style.width = \"83%\";\n      document.querySelector('#player').style.width = '85%';\n      document.querySelector('#player').style.height = '100%';\n    } else {\n      document.querySelector(\"#markerContainer\").style.width = \"67%\";\n      document.querySelector('#player').style.width = '70%';\n      document.querySelector('#player').style.height = '100%';\n    }\n  } else {\n    document.querySelector('#player').style.width = '100%';\n    document.querySelector('#player').style.height = '75%';\n  }\n}\n\nfunction mobilecheck() {\n  var check = false;\n\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n\n  return check;\n}\n\nfunction stylingPlayerForMedia() {\n  stylingPlayer();\n\n  if (!mobilecheck()) {\n    document.querySelector(\"#markerContainer\").style.width = \"98%\";\n    document.querySelector('#player').style.width = '100%';\n  }\n}\n\nfunction howTo() {\n  var info = document.createElement(\"div\");\n  var overlayer = document.createElement(\"div\");\n  overlayer.id = \"overlayer\";\n  info.className = \"infoBox\";\n  info.innerHTML = \"<div id=\\\"tubeditInfo\\\">\\n            <span>Tubedit</span>\\n            <h2>\\n                Choose one of many tools avaiable in right panel. Each tool has same action plan. Do the job that tool is supposed to do and move the video progress bar to the point when the job done by the tool should be end.\\n            </h2>\\n            <div id=\\\"tubeditInfoBtn\\\">Ok</div>\\n        </div>\";\n  document.body.append(overlayer, info);\n  document.querySelector(\"#tubeditInfoBtn\").addEventListener(\"click\", function () {\n    document.querySelector(\"#overlayer\").remove();\n    document.querySelector(\".infoBox\").remove();\n  });\n} //Watch\n\n\nvar videosRepresentation = [];\nvar alreadyEditedVideo;\nvar playContainer;\n\n(function init() {\n  if (document.querySelector(\".watchContainer\") !== null) {\n    loadVideos();\n  }\n})();\n\nfunction loadVideos() {\n  if (localStorage.getItem('videos') === null || JSON.parse(localStorage.getItem('videos')).length === 0) {\n    noVideosSaved();\n  } else {\n    showSavedVideos();\n  }\n}\n\nfunction noVideosSaved() {\n  document.querySelector('#container').innerHTML = \"<div id=\\\"noVideos\\\">\\n            <div class=\\\"noVideosElements\\\">\\n                <img src='../img/sleepingVideo.png'>\\n            </div>\\n            <div class=\\\"noVideosElements\\\">You haven't got any videos saved</div>\\n         </div> \";\n}\n\nfunction showSavedVideos() {\n  var videos = JSON.parse(localStorage.getItem('videos'));\n  videos.forEach(function (video) {\n    document.querySelector('#container').innerHTML += \"<div data-id=\\\"\".concat(video[0].id, \"\\\" class=\\\"videoBox\\\">\\n                    <div class=\\\"removeVideo\\\"><img src=\\\"../img/close.png\\\"></div>\\n                    <div class=\\\"videoTitle\\\">\").concat(video[0].title === \"\" ? \"Untitled video\" : video[0].title, \"</div>\\n                    <img src='\").concat(video[0].img, \"' alt=\\\"Video miniature\\\">\\n                </div>\");\n  });\n  document.querySelectorAll('.videoBox').forEach(function (video) {\n    return video.addEventListener('click', playVideo);\n  });\n  document.querySelectorAll('.removeVideo img').forEach(function (remove) {\n    return remove.addEventListener('click', removeSavedVideo);\n  });\n}\n\nfunction removeSavedVideo(e) {\n  var videoID = e.target.parentNode.parentNode.dataset.id;\n  var allVideos = JSON.parse(localStorage.getItem('videos'));\n  var videosAfterChange = [];\n  allVideos.forEach(function (video) {\n    if (JSON.parse(video[0].id) !== parseInt(videoID)) {\n      videosAfterChange.push(video);\n    }\n  });\n  localStorage.setItem(\"videos\", JSON.stringify(videosAfterChange));\n  e.target.parentNode.parentNode.remove();\n\n  if (JSON.parse(localStorage.getItem('videos')).length === 0) {\n    localStorage.setItem(\"videoCounter\", 0);\n  }\n\n  document.querySelector('#container').innerHTML = \"\";\n  loadVideos();\n}\n\nfunction playVideo(e) {\n  var target;\n\n  if (e.target.src.includes(\"close\")) {\n    return;\n  }\n\n  if (e.target.nodeName === 'IMG') {\n    target = e.target.parentNode;\n  } else {\n    target = e.target;\n  }\n\n  JSON.parse(localStorage.getItem('videos')).forEach(function (video) {\n    parseInt(video[0].id) === parseInt(target.dataset.id) ? alreadyEditedVideo = video : null;\n  });\n  watchVideoPrep();\n  loadWatchScript();\n}\n\nfunction loadWatchScript() {\n  if (typeof YT == 'undefined' || typeof YT.Player == 'undefined') {\n    var TAG = document.createElement('script');\n    var FIRST_SCRIPT_TAG = document.getElementsByTagName('script')[0];\n    TAG.src = \"https://www.youtube.com/iframe_api\";\n    FIRST_SCRIPT_TAG.parentNode.insertBefore(TAG, FIRST_SCRIPT_TAG);\n\n    window.onYouTubePlayerAPIReady = function () {\n      createVideoToWatch();\n    };\n  } else {\n    createVideoToWatch();\n  }\n}\n\nfunction watchVideoPrep() {\n  var watcher = document.createElement('div');\n  var watchingVideoOverlayer = document.createElement('div');\n  watchingVideoOverlayer.id = \"watchingVideoOverlayer\";\n  watcher.id = 'watcher';\n  document.body.append(watchingVideoOverlayer, watcher);\n}\n\nfunction createVideoToWatch() {\n  playContainer = new YT.Player('watcher', {\n    videoId: sessionStorage.getItem('url'),\n    events: {\n      onReady: startWatching\n    },\n    playerVars: {\n      controls: 0,\n      rel: 0,\n      showinfo: 0,\n      ecver: 2\n    }\n  });\n}\n\nfunction startWatching() {\n  return watchVideo(playContainer, alreadyEditedVideo);\n}\n\n//# sourceURL=webpack:///./src/js/edit.js?");

/***/ }),

/***/ "./src/js/script.js":
/*!**************************!*\
  !*** ./src/js/script.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var BOX = document.querySelector('#container');\n\n(function init() {\n  if (document.querySelector(\".typeInfo\") !== null) {\n    document.querySelector('#edit') !== null ? document.querySelector('#edit').addEventListener('click', editVideo) : null;\n    document.querySelector('#whatIsIt') !== null ? document.querySelector('#whatIsIt').addEventListener('click', tubeditInfo) : null;\n  }\n})();\n\nfunction unpackEditedVideo() {\n  var editedVideo = document.querySelector('#pasteArea').value;\n  sessionStorage.setItem('editedVideo', JSON.stringify(editedVideo));\n  window.location.href = '../html/watch.html';\n}\n\nfunction tubeditInfo() {\n  BOX.innerHTML = \"\\n        <div id=\\\"tubeditInfo\\\">\\n            <span>Tubedit</span>\\n            <h2>\\n                is an online application that can be used to make simple edits to your video. It has many easy to use tools, that will make your video\\n                even cooler!\\n            </h2>\\n            <div id=\\\"tubeditInfoBtn\\\">Ok</div>\\n         </div>\";\n  document.querySelector('#tubeditInfoBtn').addEventListener('click', goBack);\n}\n\nfunction editVideo() {\n  BOX.innerHTML = \"<div id=\\\"stepBox\\\">\\n            <div id=\\\"goBack\\\" style=\\\"top:15%\\\">\\n                <img src='../img/goBack.png'>\\n            </div>\\n            <h2 class=\\\"containerText\\\">Okay, first we need your video. Please paste link to your's video here.</h2>\\n            <input type=\\\"text\\\" id=\\\"pasteArea\\\">\\n            <input type=\\\"button\\\" id=\\\"saveInfo\\\" value=\\\"Done\\\">\\n         </div>\";\n  document.querySelector('#goBack').addEventListener('click', goBack);\n  document.querySelector('#saveInfo').addEventListener('click', getVideoID);\n}\n\nfunction goBack() {\n  window.location.reload();\n}\n\nfunction getVideoID() {\n  var url = document.querySelector('#pasteArea').value;\n  var regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/;\n  var match = url.match(regExp);\n  var id;\n\n  if (match && match[2].length == 11) {\n    id = match[2];\n  }\n\n  sessionStorage.setItem('url', id);\n  window.location.href = '../html/edit.html';\n}\n\n//# sourceURL=webpack:///./src/js/script.js?");

/***/ }),

/***/ "./src/js/watch.js":
/*!*************************!*\
  !*** ./src/js/watch.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack:///./src/js/watch.js?");

/***/ }),

/***/ 0:
/*!**********************************************************************************!*\
  !*** multi element-remove ./src/js/script.js ./src/js/edit.js ./src/js/watch.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! element-remove */\"./node_modules/element-remove/index.js\");\n__webpack_require__(/*! ./src/js/script.js */\"./src/js/script.js\");\n__webpack_require__(/*! ./src/js/edit.js */\"./src/js/edit.js\");\nmodule.exports = __webpack_require__(/*! ./src/js/watch.js */\"./src/js/watch.js\");\n\n\n//# sourceURL=webpack:///multi_element-remove_./src/js/script.js_./src/js/edit.js_./src/js/watch.js?");

/***/ })

/******/ });